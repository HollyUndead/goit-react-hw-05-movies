"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[919],{919:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var a=r(861),n=r(439),s=r(757),c=r.n(s),i=r(243),o=r(988),l=r(791),u=r(689),h=r(184),d=r(609),v=function(e){var t=Object.assign({},e),r=t.actorName,a=t.actorRole,n=t.actorPhoto,s="https://image.tmdb.org/t/p/w500".concat(n);return(0,h.jsxs)("li",{className:"cast-list--item",children:[(0,h.jsx)("p",{className:"actor-name",children:r}),(0,h.jsxs)("p",{className:"role",children:["Character: ",a]}),(0,h.jsx)("img",{className:"actor-photo",src:null===n?d:s,alt:""})]})},p=function(e){var t=Object.assign({},e).idForFetch,r=(0,l.useState)(),s=(0,n.Z)(r,2),o=s[0],u=s[1],d=(0,l.useState)(!1),p=(0,n.Z)(d,2),m=p[0],f=p[1];return(0,l.useEffect)((function(){function e(){return(e=(0,a.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:r=e.sent,u(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),void 0===o?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)("div",{children:[(0,h.jsx)("ul",{className:"cast-list",children:o.cast.map((function(e){return(0,h.jsx)(v,{actorName:e.name,actorRole:e.character,actorPhoto:e.profile_path},e.cast_id)}))}),!1===m?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("h2",{children:"Oops, there was an error"})]})},m=function(e){var t=Object.assign({},e).movieReview,r=t.author,a=t.content;return(0,h.jsxs)("li",{children:[(0,h.jsxs)("h2",{style:{display:"inline"},children:["Author: ",r]}),(0,h.jsx)("p",{children:a})]})},f=function(e){var t=Object.assign({},e).idForFetch,r=(0,l.useState)(),s=(0,n.Z)(r,2),o=s[0],u=s[1],d=(0,l.useState)(!1),v=(0,n.Z)(d,2),p=v[0],f=v[1];return(0,l.useEffect)((function(){function e(){return(e=(0,a.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:r=e.sent,u(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),void 0===o?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)("div",{children:[(0,h.jsx)("ul",{className:"review-list",children:o.results.map((function(e){return(0,h.jsx)(m,{movieReview:e},e.id)}))}),!1===p?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("h2",{children:"Oops, there was an error"})]})},x=r(87),j=function(e){var t=Object.assign({},e),r=t.castPath,a=t.reviwPath,n=t.idForFetch;return(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{children:"Addithinal information"}),(0,h.jsxs)("div",{className:"router",children:[(0,h.jsx)(x.OL,{className:"cast",to:r,children:"Cast"}),(0,h.jsx)(x.OL,{className:"review",to:a,children:"Review"})]}),window.location.href.includes("cast")?(0,h.jsx)(p,{idForFetch:n}):(0,h.jsx)(h.Fragment,{}),window.location.href.includes("review")?(0,h.jsx)(f,{idForFetch:n}):(0,h.jsx)(h.Fragment,{})]})},w=function(){var e,t,r,s,d,v=(0,l.useState)(),p=(0,n.Z)(v,2),m=p[0],f=p[1],x=(0,l.useState)(!0),w=(0,n.Z)(x,2),g=w[0],b=w[1],N=(0,l.useState)(!1),F=(0,n.Z)(N,2),k=F[0],_=F[1],y=(0,u.s0)(),Z=(0,u.TH)(),O=(0,l.useRef)(),P=(0,l.useRef)();return(0,l.useEffect)((function(){P.current=Z.pathname.slice(Z.pathname.indexOf("movie/")+6).replace("/cast","").replace("/reviw","");var e=localStorage.getItem("prevPage");function t(){return(t=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(P.current,"?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:t=e.sent,f(t.data),b(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}null!==Z.state?(O.current=Z.state.pathname+Z.state.search,localStorage.setItem("prevPage",O.current)):O.current=null!==e?e:"/goit-react-hw-05-movies/",function(){t.apply(this,arguments)}()}),[]),void 0!==m&&(e="https://image.tmdb.org/t/p/w500".concat(m.poster_path),t=Math.round(10*m.vote_average),r=m.genres.map((function(e){return e.name})).join(", "),s="/goit-react-hw-05-movies/movie/".concat(P.current,"/cast"),d="/goit-react-hw-05-movies/movie/".concat(P.current,"/review")),(0,h.jsxs)("div",{children:[g?(0,h.jsx)(o.a,{}):(0,h.jsxs)("div",{className:"movie-wraper",children:[(0,h.jsx)("button",{type:"button",className:"go-back",onClick:function(){y(O.current)},children:"Go back"}),(0,h.jsxs)("div",{className:"main-info-wrap",children:[(0,h.jsx)("img",{className:"movie-poster",src:e,alt:""}),(0,h.jsxs)("div",{className:"main-info",children:[(0,h.jsx)("h2",{className:"movie-name",children:m.title}),(0,h.jsxs)("p",{className:"movie-user-score",children:["User score: ",t,"%"]}),(0,h.jsx)("h3",{children:"Overview"}),(0,h.jsx)("p",{className:"overview",children:m.overview}),(0,h.jsx)("h3",{children:"Genres"}),(0,h.jsx)("p",{className:"genres",children:r})]})]}),(0,h.jsx)(j,{castPath:s,reviwPath:d,idForFetch:P.current})]}),!1===k?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("h2",{children:"Oops, there was an error"})]})}},609:function(e,t,r){e.exports=r.p+"static/media/png-transparent-black-and-white-no-to-camera-logo-video-on-demand-retail-website-simple-no-miscellaneous-television-text.324e299aa2459b74b214.png"},861:function(e,t,r){function a(e,t,r,a,n,s,c){try{var i=e[s](c),o=i.value}catch(l){return void r(l)}i.done?t(o):Promise.resolve(o).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var c=e.apply(t,r);function i(e){a(c,n,s,i,o,"next",e)}function o(e){a(c,n,s,i,o,"throw",e)}i(void 0)}))}}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=919.19f12a54.chunk.js.map
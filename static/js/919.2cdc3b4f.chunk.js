"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[919],{919:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(861),s=n(439),r=n(757),c=n.n(r),i=n(243),o=n(897),l=n(988),u=n(791),d=n(689),h=n(184),v=n(609),m=function(e){var t=Object.assign({},e),n=t.actorName,a=t.actorRole,s=t.actorPhoto,r="https://image.tmdb.org/t/p/w500".concat(s);return(0,h.jsxs)("li",{className:"cast-list--item",children:[(0,h.jsx)("p",{className:"actor-name",children:n}),(0,h.jsxs)("p",{className:"role",children:["Character: ",a]}),(0,h.jsx)("img",{className:"actor-photo",src:null===s?v:r,alt:""})]})},p=function(e){var t=Object.assign({},e).idForFetch,n=(0,u.useState)(),r=(0,s.Z)(n,2),o=r[0],l=r[1];return(0,u.useEffect)((function(){function e(){return(e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:n=e.sent,console.log(n.data.cast),l(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),void 0===o?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("ul",{className:"cast-list",children:o.cast.map((function(e){return(0,h.jsx)(m,{actorName:e.name,actorRole:e.character,actorPhoto:e.profile_path},e.cast_id)}))})},f=function(e){var t=Object.assign({},e).movieReview,n=t.author,a=t.content;return(0,h.jsxs)("li",{children:[(0,h.jsxs)("h2",{style:{display:"inline"},children:["Author: ",n]}),(0,h.jsx)("p",{children:a})]})},x=function(e){var t=Object.assign({},e).idForFetch,n=(0,u.useState)(),r=(0,s.Z)(n,2),o=r[0],l=r[1];return(0,u.useEffect)((function(){function e(){return(e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 4:n=e.sent,console.log(n.data.results),l(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(o),void 0===o?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("ul",{className:"review-list",children:o.results.map((function(e){return(0,h.jsx)(f,{movieReview:e},e.id)}))})},g=n(87),j=function(e){var t=Object.assign({},e),n=t.castPath,a=t.reviwPath,s=t.idForFetch;return console.log(s),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{children:"Addithinal information"}),(0,h.jsxs)("div",{className:"router",children:[(0,h.jsx)(g.OL,{className:"cast",to:n,children:"Cast"}),(0,h.jsx)(g.OL,{className:"review",to:a,children:"Review"})]}),window.location.href.includes("cast")?(0,h.jsx)(p,{idForFetch:s}):(0,h.jsx)(h.Fragment,{}),window.location.href.includes("review")?(0,h.jsx)(x,{idForFetch:s}):(0,h.jsx)(h.Fragment,{})]})},w=function(){var e,t,n,r,v,m=(0,u.useState)(),p=(0,s.Z)(m,2),f=p[0],x=p[1],g=(0,u.useState)(!0),w=(0,s.Z)(g,2),b=w[0],N=w[1],k=(0,u.useContext)(o.s),F=k.movieId,_=k.setMovieId,y=(0,d.s0)();return(0,u.useEffect)((function(){var e=F;function t(){return(t=(0,a.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:n=t.sent,void 0!==e&&localStorage.setItem("movieId",e),x(n.data),N(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}if(void 0===e){var n=localStorage.getItem("movieId");if(null===n)return void y("/");_(n),e=n}!function(){t.apply(this,arguments)}()}),[]),void 0!==f&&(e="https://image.tmdb.org/t/p/w500".concat(f.poster_path),t=Math.round(10*f.vote_average),n=f.genres.map((function(e){return e.name})).join(", "),r="/goit-react-hw-05-movies/movie/".concat(F,"/cast"),v="/goit-react-hw-05-movies/movie/".concat(F,"/review")),(0,h.jsx)("div",{children:b?(0,h.jsx)(l.a,{}):(0,h.jsxs)("div",{className:"movie-wraper",children:[(0,h.jsx)("button",{type:"button",className:"go-back",children:"Go back"}),(0,h.jsxs)("div",{className:"main-info-wrap",children:[(0,h.jsx)("img",{className:"movie-poster",src:e,alt:""}),(0,h.jsxs)("div",{className:"main-info",children:[(0,h.jsx)("h2",{className:"movie-name",children:f.title}),(0,h.jsxs)("p",{className:"movie-user-score",children:["User score: ",t,"%"]}),(0,h.jsx)("h3",{children:"Overview"}),(0,h.jsx)("p",{className:"overview",children:f.overview}),(0,h.jsx)("h3",{children:"Genres"}),(0,h.jsx)("p",{className:"genres",children:n})]})]}),(0,h.jsx)(j,{castPath:r,reviwPath:v,idForFetch:F})]})})}},609:function(e,t,n){e.exports=n.p+"static/media/png-transparent-black-and-white-no-to-camera-logo-video-on-demand-retail-website-simple-no-miscellaneous-television-text.324e299aa2459b74b214.png"},861:function(e,t,n){function a(e,t,n,a,s,r,c){try{var i=e[r](c),o=i.value}catch(l){return void n(l)}i.done?t(o):Promise.resolve(o).then(a,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var c=e.apply(t,n);function i(e){a(c,s,r,i,o,"next",e)}function o(e){a(c,s,r,i,o,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=919.2cdc3b4f.chunk.js.map
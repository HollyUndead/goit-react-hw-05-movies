{"version":3,"file":"static/js/622.6614802a.chunk.js","mappings":"6MAIaA,EAAY,SAAC,GAAkB,IAAbC,EAAY,oBACjCC,GAAeC,EAAAA,EAAAA,YAAWC,EAAAA,GAA1BF,WACAG,EAAUJ,EAAVI,MAIFC,EAAI,yCAAqCD,EAAME,IAC/CC,EAAO,yCAAqCH,EAAMI,aACxD,OACE,eAAIC,UAAU,aAAd,UACE,UAAC,KAAD,CAAMC,GAAIL,EAAMM,QAPF,WAChBV,EAAWG,EAAME,GAClB,EAKG,WACE,gBAAKM,IAAKL,EAASM,IAAI,GAAGJ,UAAU,wBACpC,cAAGA,UAAU,cAAb,SAA4BL,EAAMU,YAIzC,C,wJCkCD,EA/Ce,WACb,OAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,OAUjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAaC,OAAOC,SAASC,KAC7BC,EAAeJ,EAAWK,QAAQ,UAAY,GAC9B,IAAlBD,GACFE,EAAUN,EAAWO,MAAMH,GAE9B,GAAE,IAEH,IAAME,EAAS,mCAAG,WAAME,GAAN,iEAChBC,EAAAA,EAAAA,IAAA,kHAE+GD,EAF/G,gCAIGE,MAAK,SAAAC,GACJf,EAAae,EAAIC,KAAKC,QACvB,IAPa,2CAAH,sDAUf,OACE,4BACE,kBAAMzB,UAAU,cAAc0B,SA5Bb,SAAAC,GACnBA,EAAGC,iBACH,IAAIC,EAAiBF,EAAGG,OAAOC,UAAUC,MACzCvB,EAAS,yCAAD,OAA0CoB,IAClDF,EAAGG,OAAOG,QACVf,EAAUW,EACX,EAsBG,WACE,kBAAOK,KAAK,OAAOC,KAAK,YAAYnC,UAAU,sBAC9C,mBAAQkC,KAAK,SAASlC,UAAU,gBAAhC,wBAIF,eAAIA,UAAU,aAAd,SACGO,EAAU6B,KAAI,SAAAC,GACb,OAAO,SAAC,IAAD,CAAW1C,MAAO0C,GAASA,EAAGxC,GACtC,QAIR,C,sBCpDD,SAASyC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBb,EAAQc,EAAKd,KAInB,CAHE,MAAOe,GAEP,YADAN,EAAOM,EAET,CAEID,EAAKE,KACPR,EAAQR,GAERiB,QAAQT,QAAQR,GAAOV,KAAKoB,EAAOC,EAEvC,CAEe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUT,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GAEzB,SAASZ,EAAMV,GACbM,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQX,EAClE,CAEA,SAASW,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CAEAf,OAAMgB,EACR,GACF,CACF,C","sources":["components/movie-item/movie-item.jsx","components/seacrh-movie/search-movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { StateContext } from 'components/App';\nimport { useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const MovieItem = ({ ...props }) => {\n  const { setMovieId } = useContext(StateContext);\n  const { movie } = props;\n  const sendMovie = () => {\n    setMovieId(movie.id);\n  };\n  const path = `/goit-react-hw-05-movies/movie/${movie.id}`;\n  const imgPath = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  return (\n    <li className=\"movie-item\">\n      <Link to={path} onClick={sendMovie}>\n        <img src={imgPath} alt=\"\" className=\"movie-item--poster\" />\n        <p className=\"movie-title\">{movie.title}</p>\n      </Link>\n    </li>\n  );\n};\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { MovieItem } from 'components/movie-item/movie-item';\nimport './search-movie.css';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState([]);\n  const navigate = useNavigate();\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    let queryForSearch = ev.target.movieName.value;\n    navigate(`/goit-react-hw-05-movies/movies?query=${queryForSearch}`);\n    ev.target.reset();\n    fetchData(queryForSearch);\n  };\n\n  useEffect(() => {\n    const currentUrl = window.location.href;\n    const indexOfQueru = currentUrl.indexOf('query=') + 6;\n    if (indexOfQueru !== -1) {\n      fetchData(currentUrl.slice(indexOfQueru));\n    }\n  }, []);\n\n  const fetchData = async query => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=b76e2e4e0948108c3961a907afb4d0c6&language=en-US&query=${query}&page=1&include_adult=false`\n      )\n      .then(res => {\n        setMovieList(res.data.results);\n      });\n  };\n\n  return (\n    <div>\n      <form className=\"search-form\" onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"movieName\" className=\"input-movie-name\" />\n        <button type=\"submit\" className=\"search-button\">\n          Search\n        </button>\n      </form>\n      <ul className=\"movie-list\">\n        {movieList.map(el => {\n          return <MovieItem movie={el} key={el.id} />;\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MovieItem","props","setMovieId","useContext","StateContext","movie","path","id","imgPath","poster_path","className","to","onClick","src","alt","title","useState","movieList","setMovieList","navigate","useNavigate","useEffect","currentUrl","window","location","href","indexOfQueru","indexOf","fetchData","slice","query","axios","then","res","data","results","onSubmit","ev","preventDefault","queryForSearch","target","movieName","value","reset","type","name","map","el","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}
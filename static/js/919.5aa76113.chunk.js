"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[919],{919:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(861),r=a(439),s=a(757),i=a.n(s),c=a(243),o=a(897),l=a(988),u=a(791),h=a(689),d=a(184),v=a(609),m=function(e){var t=Object.assign({},e),a=t.actorName,n=t.actorRole,r=t.actorPhoto,s="https://image.tmdb.org/t/p/w500".concat(r);return(0,d.jsxs)("li",{className:"cast-list--item",children:[(0,d.jsx)("p",{className:"actor-name",children:a}),(0,d.jsxs)("p",{className:"role",children:["Character: ",n]}),(0,d.jsx)("img",{className:"actor-photo",src:null===r?v:s,alt:""})]})},p=function(e){var t=Object.assign({},e).idForFetch,a=(0,u.useState)(),s=(0,r.Z)(a,2),o=s[0],l=s[1],h=(0,u.useState)(!1),v=(0,r.Z)(h,2),p=v[0],f=v[1];return(0,u.useEffect)((function(){function e(){return(e=(0,n.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:a=e.sent,l(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),void 0===o?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("div",{children:[(0,d.jsx)("ul",{className:"cast-list",children:o.cast.map((function(e){return(0,d.jsx)(m,{actorName:e.name,actorRole:e.character,actorPhoto:e.profile_path},e.cast_id)}))}),!1===p?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("h2",{children:"Oops, there was an error"})]})},f=function(e){var t=Object.assign({},e).movieReview,a=t.author,n=t.content;return(0,d.jsxs)("li",{children:[(0,d.jsxs)("h2",{style:{display:"inline"},children:["Author: ",a]}),(0,d.jsx)("p",{children:n})]})},x=function(e){var t=Object.assign({},e).idForFetch,a=(0,u.useState)(),s=(0,r.Z)(a,2),o=s[0],l=s[1],h=(0,u.useState)(!1),v=(0,r.Z)(h,2),m=v[0],p=v[1];return(0,u.useEffect)((function(){function e(){return(e=(0,n.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:a=e.sent,l(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),void 0===o?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("p",{children:[(0,d.jsx)("ul",{className:"review-list",children:o.results.map((function(e){return(0,d.jsx)(f,{movieReview:e},e.id)}))}),!1===m?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("h2",{children:"Oops, there was an error"})]})},j=a(87),w=function(e){var t=Object.assign({},e),a=t.castPath,n=t.reviwPath,r=t.idForFetch;return(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{children:"Addithinal information"}),(0,d.jsxs)("div",{className:"router",children:[(0,d.jsx)(j.OL,{className:"cast",to:a,children:"Cast"}),(0,d.jsx)(j.OL,{className:"review",to:n,children:"Review"})]}),window.location.href.includes("cast")?(0,d.jsx)(p,{idForFetch:r}):(0,d.jsx)(d.Fragment,{}),window.location.href.includes("review")?(0,d.jsx)(x,{idForFetch:r}):(0,d.jsx)(d.Fragment,{})]})},g=function(){var e,t,a,s,v,m=(0,u.useState)(),p=(0,r.Z)(m,2),f=p[0],x=p[1],j=(0,u.useState)(!0),g=(0,r.Z)(j,2),b=g[0],N=g[1],F=(0,u.useState)(!1),k=(0,r.Z)(F,2),_=k[0],y=k[1],Z=(0,u.useContext)(o.s),O=Z.movieId,S=Z.setMovieId,P=(0,h.s0)();return(0,u.useEffect)((function(){var e=O;function t(){return(t=(0,n.Z)(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=b76e2e4e0948108c3961a907afb4d0c6"));case 3:a=t.sent,void 0!==e&&localStorage.setItem("movieId",e),x(a.data),N(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),y(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}if(void 0===e){var a=localStorage.getItem("movieId");if(null===a)return void P("/");S(a),e=a}!function(){t.apply(this,arguments)}()}),[]),void 0!==f&&(e="https://image.tmdb.org/t/p/w500".concat(f.poster_path),t=Math.round(10*f.vote_average),a=f.genres.map((function(e){return e.name})).join(", "),s="/goit-react-hw-05-movies/movie/".concat(O,"/cast"),v="/goit-react-hw-05-movies/movie/".concat(O,"/review")),(0,d.jsxs)("div",{children:[b?(0,d.jsx)(l.a,{}):(0,d.jsxs)("div",{className:"movie-wraper",children:[(0,d.jsx)("button",{type:"button",className:"go-back",onClick:function(){P(-1)},children:"Go back"}),(0,d.jsxs)("div",{className:"main-info-wrap",children:[(0,d.jsx)("img",{className:"movie-poster",src:e,alt:""}),(0,d.jsxs)("div",{className:"main-info",children:[(0,d.jsx)("h2",{className:"movie-name",children:f.title}),(0,d.jsxs)("p",{className:"movie-user-score",children:["User score: ",t,"%"]}),(0,d.jsx)("h3",{children:"Overview"}),(0,d.jsx)("p",{className:"overview",children:f.overview}),(0,d.jsx)("h3",{children:"Genres"}),(0,d.jsx)("p",{className:"genres",children:a})]})]}),(0,d.jsx)(w,{castPath:s,reviwPath:v,idForFetch:O})]}),!1===_?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("h2",{children:"Oops, there was an error"})]})}},609:function(e,t,a){e.exports=a.p+"static/media/png-transparent-black-and-white-no-to-camera-logo-video-on-demand-retail-website-simple-no-miscellaneous-television-text.324e299aa2459b74b214.png"},861:function(e,t,a){function n(e,t,a,n,r,s,i){try{var c=e[s](i),o=c.value}catch(l){return void a(l)}c.done?t(o):Promise.resolve(o).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var i=e.apply(t,a);function c(e){n(i,r,s,c,o,"next",e)}function o(e){n(i,r,s,c,o,"throw",e)}c(void 0)}))}}a.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=919.5aa76113.chunk.js.map